<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

   <cc:interface>
      <cc:attribute name="code"></cc:attribute>
      <cc:attribute name="type"></cc:attribute>
      <cc:attribute name="email"></cc:attribute>
      <cc:attribute name="btnAddText"></cc:attribute>
      <cc:attribute name="btnAddAction" method-signature="java.lang.String action()"></cc:attribute>
   </cc:interface>

   <cc:implementation>
      <div class="modal fade" id="modalEmail" tabindex="-1" role="dialog" aria-labelledby="modalEmailLabel" aria-hidden="true">
         <div class="modal-dialog">
            <div class="modal-content">
               <h:form id="frmAddEmail" class="form form-horizontal">
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Fechar</span>
                     </button>
                     <h4 class="modal-title" id="modalEmailLabel">Adicionar E-mail</h4>
                  </div><!-- /.modal-header -->
                  <div class="modal-body">
                     <div class="row">
                        <div class="col-md-8">
                           <h:inputHidden value="#{cc.attrs.code}"/>
                           <h:outputLabel>Tipo</h:outputLabel>
                           <h:selectOneMenu id="type"
                                            class="form-control"
                                            required="true"
                                            requiredMessage="Tipo de E-mail Obrigatório"
                                            value="#{cc.attrs.type}">
                              <f:selectItem itemValue="" itemLabel="Tipo"></f:selectItem>
                              <f:selectItem itemValue="Particular" itemLabel="Particular"></f:selectItem>
                              <f:selectItem itemValue="Comercial" itemLabel="Comercial"></f:selectItem>
                           </h:selectOneMenu>
                           <h:outputLabel>E-mail</h:outputLabel>
                           <h:inputText id="email" 
                                        class="form-control"
                                        required="true"
                                        requiredMessage="Email Obrigatório"
                                        pt:placeholder="E-mail"
                                        onkeyup="this.value = this.value.toLowerCase();"
                                        value="#{cc.attrs.email}">
                              <f:validator validatorId="emailValidator"></f:validator>
                           </h:inputText>
                        </div>
                     </div>
                  </div><!-- /.modal-body -->
                  <div class="modal-footer">
                     <p:commandLink styleClass="btn btn-primary" 
                                    action="#{cc.attrs.btnAddAction}"
                                    value="#{cc.attrs.btnAddText}"
                                    oncomplete="$('#modalEmail').modal('hide');"
                                    update=":frmCadastro:pnlEmails">
                     </p:commandLink>
                     <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                  </div><!-- /.modal-footer -->
               </h:form>
            </div><!-- /.modal-content -->
         </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
   </cc:implementation>
</html>